\section{Атаки по времени} \ref{sec:timing}

При атаке по времени атакующий измеряет время, которое уходит у шифрующего
алгоритма на обработку запросов. Атакующий может делать это либо пассивно
наблюдая за обращениями легитимных пользователей, либо самостоятельно делая
запросы к криптосистеме.

\begin{figure}[h]
    \centering
    \includegraphics[width=0.7\linewidth]{timing-attack-msc.png}
    \caption{Пример атаки по времени}
\end{figure} \label{fig:msc}

Рассмотрим представленный на рисунке \ref{msc} пример схемы взаимодействия атакующего (Ева)
и криптосистемы (Алиса). Физически они могут быть представлены двумя процессами на одной
системе, разными узлами в компьютерной сети или чем-то ещё. Ева формирует запрос
к Алисе и отправляет его, сохраняя перед этим текущее время $T_1$. Между
моментом времени, который сохранила Ева и моментом, когда запрос будет передан
есть некоторая задержка. Эта задержка может быть вызвана обработкой запроса
сетевым стеком на компьютере Евы или накладными расходами на совершение системного
вызова к ядру операционной системы. 

Этот запрос принимается Алисой также с некоторой задержкой, после чего Алиса
обрабатывает его, начав в момент $T_2$ и закончив в момент $T_3$. Алиса
формирует ответ и отправляет его обратно Еве. Отправка и получение ответа так же,
как и запроса, сопровождаются задержками. Как только Ева получает ответ, она
запоминает текущее время $T_4$.

Еву интересует реальное время затраченное на шифрование, обозначим его как $X$ :

$X = T_3 - T_2$

Измеренное ею значение $Z$, представляет собой сумму искомой величины и шума
$Y = (T_2 - T_1) + (T_4 - T_3)$:

\begin{equation}
Z = X + Y = (T_3 - T_2) + (T_2 - T_1) + (T_4 - T_3) = T_4 - T_1
\end{equation} \label{eq:noise}

Повторив изображённую на рисунке \ref{msc} процедуру $n$ раз, Ева получает
последовательность измерений ${Z_1, Z_2, ... Z_n}$, которую затем может анализировать.

\subsection{На какие вопросы хочет отвечать Ева?}

Атаки по времени, основанные на различиях во времени доступа к кэш-памяти,
описанные в статьях \cite{bernstein} \cite{anmodel} \cite{remote-aes},
требуют чтобы атакующий умел по двум наборам измерений времени
$Z = {Z_1, Z_2, ... Z_n}$ и $Z' = {Z'_1, Z'_2, ... Z'_m}$, отвечать
на вопрос о том, для какого из них реальное время обработки запроса в среднем
было меньше. Другими словами, если каждое из измерений $Z_i$ представляется как сумма
$Z_i = Y_i + X_i$, а каждое из $Z'_i$ как сумма $Z'_i = Y'_i + X'_i$, где
последовательности случайных величин $Y$ и $Y'$ получены из одного распределения,
а $X$ и $X'$ из двух распределений, имеющих различные значения мат. ожидания
$M(X)$ и $M(X')$, то для проведения успешной атаки, атакующий должен уметь отвечать
на вопрос о том, какое из этих двух мат. ожиданий больше.

% В параграфе выше стоило бы не два набора измерений, а N описать

\subsection{Какие используются методы для ответа на этот вопрос?}

\clearpage
